(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={backdrop:"Modal_backdrop__2pmeY",modal:"Modal_modal__3OVFW"}},14:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1T4C8",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__32yqQ"}},15:function(e,t,a){e.exports={modalImg:"ImageSearchPage_modalImg__1yQmm",errorMessage:"ImageSearchPage_errorMessage__2TD53"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3VAAM"}},27:function(e,t,a){e.exports={button:"Button_button__33A6e"}},34:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(10),c=a.n(o),s=(a(34),a(4)),i=a(5),l=a(7),u=a(6),m=a(16),h=a(8),d={images:[],loading:!1,error:null,page:1,largeImage:"",showModal:!1,query:""},g=a(29),b=a(14),p=a.n(b),j=a(0),f=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.onClick;return Object(j.jsx)("li",{className:p.a.imageGalleryItem,onClick:function(){return r(a)},children:Object(j.jsx)("img",{src:t,alt:n,className:p.a.imageGalleryItemImage})})},O=a(25),y=a.n(O),v=function(e){var t=e.list,a=e.onClick,n=t.map((function(e){var t=e.id,n=Object(g.a)(e,["id"]);return n=Object(h.a)(Object(h.a)({},n),{},{onClick:a}),Object(j.jsx)(f,Object(h.a)({},n),t)}));return Object(j.jsx)("ul",{className:y.a.imageGallery,children:n})},x=a(11),_={query:""},k={searchValue:{type:"text",autocomplete:"off",placeholder:"Search images and photos"}},I=a(9),w=a.n(I),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(h.a)({},_),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(x.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;(0,e.props.onSubmit)({query:a})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query,t=this.handleSubmit,a=this.handleChange;return Object(j.jsx)("header",{className:w.a.searchbar,children:Object(j.jsxs)("form",{className:w.a.searchForm,onSubmit:t,children:[Object(j.jsx)("input",{onChange:a,name:"query",value:e,className:w.a.searchFormInput,type:k.searchValue.text,autoComplete:k.searchValue.autocomplete,autoFocus:!0,placeholder:k.searchValue.placeholder}),Object(j.jsx)("button",{type:"submit",className:w.a.searchFormButton,children:Object(j.jsx)("span",{className:w.a.searchFormButtonLabel,children:"Search"})})]})})}}]),a}(n.Component);C.defaultProps={query:""};var S=C,M=a(26),F=a.n(M),N=(a(56),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsx)(F.a,{style:{textAlign:"center"},type:"Hearts",color:"#ff009d",height:100,width:100,timeout:3e3})}}]),a}(r.a.Component)),q=a(27),B=a.n(q),G=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"Button",className:B.a.button,onClick:t,children:"Load More"})},L=a(12),R=a.n(L),D=document.querySelector("#modal-root"),U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(j.jsx)("div",{className:R.a.backdrop,onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:R.a.modal,children:Object(j.jsx)("div",{className:R.a.modalContent,children:this.props.children})})}),D)}}]),a}(n.Component),A=a(28),P=a.n(A).a.create({baseURL:"https://pixabay.com/"}),V=a(15),E=a.n(V),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state=Object(h.a)({},d),e.listRef=Object(n.createRef)(),e.loadMore=function(t){t.preventDefault(),e.setState((function(e){return{loading:!0,page:e.page+1}}))},e.searchImages=function(t){var a=t.query;e.setState({images:[],loading:!0,query:a})},e.toggleModal=function(t){e.setState((function(e){return{showModal:!e.showModal,largeImage:t}}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0})}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(t.images.length<this.state.images.length){var a=this.listRef.current;if(a)return a.scrollHeight}return null}},{key:"componentDidUpdate",value:function(e,t,a){var n=this,r=this.state,o=r.loading,c=r.query,s=r.page;o&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P.get("api/",{params:{q:e,page:t,key:"20959102-f72134d377a9abd463ec560fa",image_type:"photo",orientation:"horizontal",per_page:12}})}(c,s).then((function(e){var t=e.data;n.setState((function(e){var a=e.images;return{loading:!1,images:[].concat(Object(m.a)(a),Object(m.a)(t.hits))}}))})).catch((function(e){n.setState({loading:!1,error:e})}));null!==a&&window.scrollTo({top:a,behavior:"smooth"})}},{key:"render",value:function(){var e=this.searchImages,t=this.toggleModal,a=this.loadMore,n=this.listRef,r=this.state,o=r.images,c=r.showModal,s=r.error,i=r.loading,l=r.largeImage;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S,{onSubmit:e}),i&&Object(j.jsx)(N,{}),Object(j.jsx)("div",{ref:n,children:Object(j.jsx)(v,{list:o,onClick:t})}),s&&Object(j.jsx)("p",{className:E.a.errorMessage,children:"Something was wrong"}),!i&&!s&&Object(j.jsx)(G,{onClick:a}),c&&Object(j.jsx)(U,{onClose:t,children:Object(j.jsx)("img",{src:l,alt:"",className:E.a.modalImg})})]})}}]),a}(n.Component);T.defaultProps={images:[{id:"",webformatURL:"https://us.bgxme.com/images/no-img.png",largeImageURL:"https://us.bgxme.com/images/no-img.png",tags:""}],loading:!1,page:1,showModal:!1};var H=T,J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(H,{})})}}]),a}(n.Component);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3BP1E",searchFormButton:"Searchbar_searchFormButton__3bp-R",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__2wsHX",searchFormInput:"Searchbar_searchFormInput__3WJs5"}}},[[75,1,2]]]);
//# sourceMappingURL=main.681db875.chunk.js.map