{"version":3,"sources":["shared/components/Modal/Modal.module.css","client/pixabayImages/components/ImageGalleryItem/ImageGalleryItem.module.css","client/pixabayImages/pages/ImageSearchPage/ImageSearchPage.module.css","client/pixabayImages/components/ImageGallery/ImageGallery.module.css","shared/components/Button/Button.module.css","client/pixabayImages/pages/ImageSearchPage/initialState.js","client/pixabayImages/components/ImageGalleryItem/ImageGalleryItem.jsx","client/pixabayImages/components/ImageGallery/ImageGallery.jsx","client/pixabayImages/components/Searchbar/initialState.js","client/pixabayImages/components/Searchbar/fields.js","client/pixabayImages/components/Searchbar/Searchbar.jsx","shared/components/Loader/Loader.jsx","shared/components/Button/Button.jsx","shared/components/Modal/Modal.jsx","client/pixabayImages/service/images.js","client/pixabayImages/pages/ImageSearchPage/ImageSearchPage.jsx","App.js","index.js","client/pixabayImages/components/Searchbar/Searchbar.module.css"],"names":["module","exports","initialState","images","loading","error","page","largeImage","showModal","query","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","className","styles","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","list","imageElements","map","id","props","imageGallery","fields","searchValue","type","autocomplete","placeholder","Searchbar","state","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","onSubmit","this","searchbar","searchForm","onChange","searchFormInput","text","autoComplete","autoFocus","searchFormButton","searchFormButtonLabel","Component","defaultProps","App","style","textAlign","color","height","width","timeout","React","LoadMore","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","backdrop","modal","modalContent","children","instance","axios","create","baseURL","ImageSearchPage","listRef","createRef","loadMore","searchImages","toggleModal","prevProps","prevState","length","current","scrollHeight","snapshot","get","params","q","key","image_type","orientation","per_page","getAllImages","then","data","hits","catch","scrollTo","top","behavior","ref","errorMessage","modalImg","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.681db875.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2pmeY\",\"modal\":\"Modal_modal__3OVFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1T4C8\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__32yqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalImg\":\"ImageSearchPage_modalImg__1yQmm\",\"errorMessage\":\"ImageSearchPage_errorMessage__2TD53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3VAAM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__33A6e\"};","export const initialState = {\r\n        images: [],\r\n        loading: false,\r\n        error: null,\r\n        page: 1,\r\n        largeImage: \"\",\r\n        showModal: false,\r\n        query: \"\",\r\n}","import React from 'react';\r\n\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick}) => {\r\n    return (<li className={styles.imageGalleryItem} onClick={() => onClick(largeImageURL)}>\r\n        <img src={webformatURL} alt={tags} className={styles.imageGalleryItemImage}  />\r\n        </li>)\r\n}\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ list, onClick}) => {\r\n\r\n    const imageElements = list.map(({ id, ...props }) => {\r\n        props = {\r\n            ...props,\r\n            onClick,\r\n        }\r\n    return <ImageGalleryItem key={id} {...props} />\r\n});\r\n    return (\r\n        <ul className={styles.imageGallery}>\r\n            {imageElements}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;","export const initialState = {\r\n    query: \"\",\r\n}","export const fields = {\r\n    searchValue: {\r\n        type: \"text\",\r\n        autocomplete: \"off\",\r\n        placeholder: \"Search images and photos\",\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { initialState } from './initialState';\r\nimport { fields } from './fields';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = { ...initialState }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target;\r\n         this.setState({\r\n            [name]: value\r\n         })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { query } = this.state;\r\n        const { onSubmit } = this.props;\r\n        onSubmit({ query })\r\n    }\r\n\r\n    render() {\r\n        const { query } = this.state;\r\n        const { handleSubmit, handleChange } = this;\r\n\r\n        return (<header className={styles.searchbar}>\r\n            <form className={styles.searchForm} onSubmit={handleSubmit}>\r\n                <input\r\n                    onChange={handleChange}\r\n                    name=\"query\"\r\n                    value={query}\r\n                    className={styles.searchFormInput}\r\n                    type={fields.searchValue.text}\r\n                    autoComplete={fields.searchValue.autocomplete}\r\n                    autoFocus\r\n                    placeholder={fields.searchValue.placeholder}\r\n                />\r\n                 <button type=\"submit\" className={styles.searchFormButton}>\r\n                    <span className={styles.searchFormButtonLabel}>Search</span>\r\n                </button>\r\n            </form>\r\n        </header>)\r\n\r\n    }\r\n}\r\n\r\nSearchbar.defaultProps = {\r\n    query: \"\",\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    query: PropTypes.string,\r\n}\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Loader\r\n        style={{textAlign: \"center\"}}\r\n        type=\"Hearts\"\r\n        color=\"#ff009d\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst LoadMore = ({onClick}) => {\r\n    return ( <button type='Button' className={styles.button} onClick={onClick}>Load More</button> );\r\n}\r\n\r\nexport default LoadMore;","import React, {Component} from 'react'\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n            if (e.code === \"Escape\") {\r\n                this.props.onClose();\r\n            }\r\n    }\r\n\r\n    handleBackdropClick = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal(\r\n                <div className={styles.backdrop} onClick={this.handleBackdropClick}>\r\n                    <div className={styles.modal}>\r\n                    <div className={styles.modalContent}>{this.props.children}</div>\r\n                </div>\r\n            </div>, modalRoot)\r\n    }\r\n}\r\n\r\nexport default Modal;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://pixabay.com/\",\r\n});\r\n\r\nexport const getAllImages = (name = \"\", page = 1) => {\r\n  return instance.get('api/', {\r\n      params: {\r\n        q: name,\r\n        page,\r\n          key: \"20959102-f72134d377a9abd463ec560fa\",\r\n          image_type: \"photo\",\r\n          orientation: \"horizontal\",\r\n        per_page: 12\r\n    }\r\n  })\r\n};","import { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { initialState } from './initialState';\r\nimport ImageGallery from \"../../components/ImageGallery\";\r\nimport Searchbar from '../../components/Searchbar/Searchbar';\r\nimport Loader from '../../../../shared/components/Loader/Loader';\r\nimport LoadMore from '../../../../shared/components/Button/Button';\r\nimport Modal from '../../../../shared/components/Modal/Modal';\r\n\r\nimport { getAllImages } from '../../service/images';\r\n\r\nimport styles from './ImageSearchPage.module.css';\r\n\r\nclass ImageSearchPage extends Component {\r\n    state = { ...initialState }\r\n\r\n    listRef = createRef()\r\n\r\n    componentDidMount(){\r\n        this.setState({\r\n            loading: true\r\n        })\r\n    }\r\n\r\n    getSnapshotBeforeUpdate(prevProps, prevState) {\r\n        if (prevState.images.length < this.state.images.length) {\r\n            const { current } = this.listRef;\r\n            if (current) {\r\n                return current.scrollHeight;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const { loading, query, page} = this.state;\r\n        if (loading) {\r\n            const imagesRequest = getAllImages(query, page);\r\n            imagesRequest\r\n                .then(({ data }) => {\r\n                    this.setState(({ images }) => {\r\n                            return {\r\n                            loading: false,\r\n                            images: [...images, ...data.hits]\r\n                        }\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.setState({\r\n                        loading: false,\r\n                        error\r\n                })\r\n            })\r\n        }\r\n        if (snapshot !== null) {\r\n            window.scrollTo({\r\n                top: snapshot,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    loadMore = (e) => {\r\n        e.preventDefault();\r\n        this.setState(({ page }) => {\r\n            return {\r\n                loading: true,\r\n                page: page + 1\r\n            }\r\n        });\r\n    }\r\n\r\n    searchImages = ({query}) => {\r\n        this.setState({\r\n            images: [],\r\n            loading: true,\r\n            query\r\n        })\r\n    }\r\n\r\n    toggleModal = (src) => {\r\n        this.setState(({showModal})=>({\r\n            showModal: !showModal,\r\n            largeImage: src\r\n    }))\r\n    }\r\n\r\n    render() {\r\n        const { searchImages, toggleModal, loadMore, listRef } = this;\r\n        const { images, showModal, error, loading, largeImage } = this.state;\r\n        return (\r\n            <>\r\n                <Searchbar onSubmit={searchImages} />\r\n                {loading && <Loader />}\r\n                {<div ref={listRef}><ImageGallery list={images} onClick={toggleModal} /></div>}\r\n                {error && <p className={styles.errorMessage}>Something was wrong</p>}\r\n                {!loading && !error && <LoadMore onClick={loadMore}/>}\r\n                {showModal && (<Modal onClose={toggleModal}>\r\n                    <img src={largeImage} alt=\"\" className={styles.modalImg} />\r\n                </Modal>)}\r\n            </>\r\n         )\r\n    }\r\n}\r\n\r\nImageSearchPage.defaultProps = {\r\n    images: [{\r\n        id: \"\",\r\n        webformatURL: \"https://us.bgxme.com/images/no-img.png\",\r\n        largeImageURL: \"https://us.bgxme.com/images/no-img.png\",\r\n        tags: \"\"\r\n    }],\r\n    loading: false,\r\n    page: 1,\r\n    showModal: false,\r\n}\r\n\r\nImageSearchPage.propTypes = {\r\n    images: PropTypes.array.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n    error: PropTypes.object,\r\n    page: PropTypes.number.isRequired,\r\n    largeImage: PropTypes.string,\r\n    showModal: PropTypes.bool.isRequired,\r\n    query: PropTypes.string,\r\n}\r\n\r\n\r\nexport default ImageSearchPage;\r\n","import React, { Component } from 'react';\n\nimport ImageSearchPage from './client/pixabayImages/pages/ImageSearchPage';\n\nclass App extends Component {\n  render() {\n    return (\n      <>\n        <ImageSearchPage />\n      </>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3BP1E\",\"searchFormButton\":\"Searchbar_searchFormButton__3bp-R\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2wsHX\",\"searchFormInput\":\"Searchbar_searchFormInput__3WJs5\"};"],"sourceRoot":""}